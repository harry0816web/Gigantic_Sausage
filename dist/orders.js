new Vue({el:"#app",data:{id:"",orderDetail:[],merches:[],listArr:[]},computed:{},methods:{showList(){},backToHomepage(){location.href="index.html"}},mounted(){let e=document.cookie.split(";");for(let t=0;t<e.length;t++){let i=e[t].trim();0==i.indexOf("id=")&&(this.id=i.substr(3,i.length-2),console.log(this.id))}this.id.length||(location.href="login.html"),axios.get("http://localhost:5000/merches").then((e=>{this.merches=e.data,axios.get(`http://localhost:5000/orders?member_id=${this.id}`).then((e=>{for(let t=0;t<e.data.length;t++){let i=0;this.orderDetail.push(e.data[t].order_detail);for(let e=0;e<this.orderDetail[t].length;e++)this.orderDetail[t][e].merchName=this.merches[this.orderDetail[t][e].id-1].merchName,this.orderDetail[t][e].merchPrice=this.merches[this.orderDetail[t][e].id-1].merchPrice,i+=parseInt(this.orderDetail[t][e].merchPrice)*parseInt(this.orderDetail[t][e].quantity);this.orderDetail[t].sum=i,this.orderDetail[t].dateTime=e.data[t].dateTime.substr(0,10),e.data[t].discount&&(this.orderDetail[t].discount=!0,this.orderDetail[t].priceAfterDiscount=e.data[t].total_price)}}))})),console.log(this.orderDetail)}});