<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gigantic Sausage</title>
    <link rel="stylesheet" href="css/shoppingCart.css">
</head>
<div id="app">
    <div class="sticky-nav-bar">
        <div class="logo">LOGO</div>
    </div>
    <h1 class="title">購物車</h1>
    <main>
        <div class="merchTable">
            <div class="merchInfo" v-for="(item,index) in listArr">
                <div style="grid-area:deleteBtn;display: flex;align-items: center;position: relative;left:2vw;"
                    @click="deleteItem(index)"> <i class="fa-solid fa-trash" style="font-size:3vh;"></i>
                </div>
                <div style="grid-area:pic;height:20vh;margin-top:5%;"> <img :src="item.merchPicSrc" alt=""
                        style="max-height:20vh;">
                </div>
                <div style="grid-area:merchName;font-size:4vh;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-weight: bold;
                    display: flex;align-items: center;justify-content: start;">
                    {{item.merchName}} </div>
                <div style="grid-area:price;font-size:2.5vh;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-weight: bold;
                    display: flex;align-items: center;justify-content: start;
                    ">
                    $:{{item.merchPrice}} </div>
                <div style="grid-area:quantity;" class="quantity">
                    <button @click="minus(index)"><i class="fa-solid fa-minus"></i></button>
                    <input type="text" v-model="shoppingList[index].quantity" required>
                    <button @click="plus(index)"><i class="fa-solid fa-plus"></i></button>
                </div>
            </div>
        </div>
        <div v-if="listArr.length == 0" style="width:100vw;text-align:center">
            <h1>購物車已無商品，回去主頁逛逛吧!</h1>
            <a href="orders.html" style="font-size:5vh;font-weight: bold;color:rgb(64, 108, 110)">點我確認訂單</a>
        </div>
        <div class="calculate" v-else>
            <div class="coupon">
                折扣碼:
                <input type="text" v-model="inputCouponCode" placeholder="輸入折扣碼">
            </div>
            <s v-if="discount">總計: {{prevSum}} </s>
            <div v-else>總計: {{price}} </div>
            <div v-if="discount" style="position:fixed;bottom:2vh;right:25vw">{{price}}</div>
            <button @click="purchase()" style="font-size:3vh;font-weight: bold;color:white">結帳</button>
        </div>
    </main>

    <div style="position:fixed;left:1%;bottom: 1%;font-size:5vh;" @click="backToHomepage()">
        <i class="fa-solid fa-house"></i>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.3/axios.js'
    integrity='sha512-uap0bTaa/bPjLtLVuiWS+qak4SJrOPcdfVzUdrrE7LgvtMlkV6DeiBH7Rgt7B+74M3crOr3QdTX3gCTMMRVzZA=='
    crossorigin='anonymous'></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
<script src="/js/shoppingCart.js" defer></script>
<script src="https://kit.fontawesome.com/cce369cee1.js" crossorigin="anonymous"></script>

<body>

</body>

</html>